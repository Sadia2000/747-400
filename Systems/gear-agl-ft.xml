<?xml version="1.0" encoding="UTF-8"?>

<!-- IT-AUTOFLIGHT -->
<!-- Copyright (c) 2020 Joshua Davidson (Octal450) -->
<!-- Only for JSBsim aircraft, YAsim aircraft calculate this automatically -->

<PropertyList>

    <filter>
        <name>Gear AGL Altitude FT</name>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <dif>
                    <property>/position/altitude-agl-ft</property>
                    <value>16.893086</value>
                </dif>
            </expression>
        </input>
        <output>/position/gear-agl-ft</output>
        <min>0</min>
        <max>50000</max>
    </filter>

    <filter>
        <name>Gear Tilt 1</name>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <!-- <condition>
                <greater-than>
                    <sum>
                        <difference>
                            <property>gear/gear[1]/compression-m</property>
                            <property>gear/gear[6]/compression-m</property>
                        </difference>
                        <value>0.6227572</value>
                    </sum>
                    <value>0</value>
                </greater-than>
            </condition> -->
            <expression>
                <sum>
                    <rad2deg>
                        <atan>
                            <div>
                                <sum>
                                    <difference>
                                        <property>gear/gear[1]/compression-m</property>
                                        <property>gear/gear[6]/compression-m</property>
                                    </difference>
                                    <value>0.6227572</value>
                                </sum>
                                <value>0.35955859</value>
                            </div>
                        </atan>
                    </rad2deg>
                    <value>2.1962429977734631</value>
                </sum>
            </expression>
        </input>
        <output>
            <property>/gear/gear[1]/gear-tilt-deg</property>
        </output>
        <min>-12.5</min>
        <max>60</max>
    </filter>

</PropertyList>