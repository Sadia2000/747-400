<?xml version="1.0" encoding="UTF-8"?>

<!-- IT-AUTOFLIGHT -->
<!-- Copyright (c) 2020 Joshua Davidson (Octal450) -->
<!-- Only for JSBsim aircraft, YAsim aircraft calculate this automatically -->

<PropertyList>

    <filter>
        <name>Gear AGL Altitude FT</name>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <dif>
                    <property>/position/altitude-agl-ft</property>
                    <value>15.0</value>                    <!-- Change this value to adjust property -->
                </dif>
            </expression>
        </input>
        <output>/position/gear-agl-ft</output>
        <min>0</min>
        <max>50000</max>
    </filter>

    <filter>
        <name>Gear Tilt 1</name>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <condition>
                <equals>
                    <property>/gear/gear[1]/wow</property>
                    <value>0</value>
                </equals>
            </condition>
            <expression>
                <sum>
                    <table>
                        <property>/position/gear-agl-ft</property>
                        <entry>
                            <ind>3.485</ind>
                            <dep> 0</dep>
                        </entry>
                        <entry>
                            <ind>5.533</ind>
                            <dep>60</dep>
                        </entry>
                    </table>
                    <table>
                        <property>/orientation/roll-deg</property>
                        <entry>
                            <ind>0</ind>
                            <dep> 0</dep>
                        </entry>
                        <entry>
                            <ind>7.7</ind>
                            <dep>60</dep>
                        </entry>
                        <entry>
                            <ind>90</ind>
                            <dep>60</dep>
                        </entry>
                    </table>
                </sum>
            </expression>
        </input>
        <input>
            <condition>
                <equals>
                    <property>/gear/gear[1]/wow</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>/orientation/pitch-deg</property>
            <scale>-1.0</scale>
        </input>
        <output>
            <property>/gear/gear[1]/gear-tilt-deg</property>
        </output>
        <min>-40</min>
        <max>40</max>
    </filter>

    <filter>
        <name>Gear Tilt 4</name>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <condition>
                <equals>
                    <property>/gear/gear[4]/wow</property>
                    <value>0</value>
                </equals>
            </condition>
            <expression>
                <sum>
                    <table>
                        <property>/position/gear-agl-ft</property>
                        <entry>
                            <ind>3.485</ind>
                            <dep> 0</dep>
                        </entry>
                        <entry>
                            <ind>5.533</ind>
                            <dep>60</dep>
                        </entry>
                    </table>
                    <table>
                        <property>/orientation/roll-deg</property>
                        <entry>
                            <ind>0</ind>
                            <dep> 0</dep>
                        </entry>
                        <entry>
                            <ind>-7.7</ind>
                            <dep>60</dep>
                        </entry>
                        <entry>
                            <ind>-90</ind>
                            <dep>60</dep>
                        </entry>
                    </table>
                </sum>
            </expression>
        </input>
        <input>
            <condition>
                <equals>
                    <property>/gear/gear[4]/wow</property>
                    <value>1</value>
                </equals>
            </condition>
            <property>/orientation/pitch-deg</property>
            <scale>-1.0</scale>
        </input>
        <output>
            <property>/gear/gear[4]/gear-tilt-deg</property>
        </output>
        <min>-40</min>
        <max>40</max>
    </filter>

</PropertyList>